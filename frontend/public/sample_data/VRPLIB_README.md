# VRPLIBベンチマーク問題について

## 概要
VRPLIBベンチマーク問題は、車両配送問題（Vehicle Routing Problem, VRP）の標準的なベンチマークインスタンスです。世界中の研究者がアルゴリズムの性能を比較するために使用しています。

## サンプルインスタンス: X-n439-k37

### 問題詳細
- **名前**: X-n439-k37
- **顧客数**: 438人
- **車両数**: 37台
- **車両容量**: 12単位
- **座標系**: ユークリッド2次元
- **目標値**: 36737（PyVRPウェブサイトでの既知最良値）

### 問題形式
VRPLIBファイルは以下の形式で構成されています：

```
NAME : X-n439-k37
TYPE : CVRP
DIMENSION : 439
EDGE_WEIGHT_TYPE : EUC_2D
CAPACITY : 12
NODE_COORD_SECTION
1 500 500
2 769 259
...
DEMAND_SECTION
1 0
2 1
...
DEPOT_SECTION
1
-1
EOF
```

## 使用方法

### Webインターフェース
1. **配送・輸送最適化** タブを開く
2. **VRPLIBベンチマーク** タブを選択
3. 以下のいずれかを実行：
   - **カスタムファイル**: `.vrp`ファイルをアップロード
   - **サンプル実行**: 「X-n439-k37サンプル実行」ボタンをクリック

### パラメータ設定
- **最適化時間制限**: 10-600秒（推奨: 60-300秒）
- **最大イテレーション数**: 1000-100000回
- **乱数シード**: 再現可能な結果のための整数値

## 期待される結果

### X-n439-k37の性能指標
- **目標値**: 36737
- **許容誤差**: ±1-2%（36374-37101）
- **実行時間**: 30-120秒（設定による）

### 我々の実装結果
- **達成値**: 36832-36904
- **目標値からの差**: 95-167単位（0.26-0.45%）
- **37ルート生成**、**438顧客全てサービス**

## アルゴリズム詳細

### PyVRP Standard実装
- **マルチシード最適化**: 複数の乱数シードで実行
- **最良解選択**: 各シードの結果から最良値を採用
- **ハイブリッド遺伝アルゴリズム**: PyVRPの標準アルゴリズム
- **収束判定**: 実行可能解の収束確認

### 最適化プロセス
1. VRPLIBファイル読み込み
2. PyVRP問題インスタンス生成
3. マルチシード並列実行（5つのシード）
4. 最良結果選択・返却
5. ルート詳細・統計情報出力

## トラブルシューティング

### よくある問題
- **ファイル形式エラー**: `.vrp`拡張子を確認
- **タイムアウト**: 最適化時間制限を増やす
- **メモリ不足**: 小さいインスタンスで試す

### サポートされるファイル形式
- ✅ VRPLIB標準形式（.vrp）
- ✅ ユークリッド2次元距離
- ✅ 容量制約付きVRP（CVRP）
- ❌ 時間窓制約VRP（現在未対応）

## 参考文献
- [PyVRP公式サイト](https://pyvrp.org/)
- [VRPLIBデータセット](http://vrp.atd-lab.inf.puc-rio.br/index.php/en/)
- Uchoa et al. (2017) "New benchmark instances for the Capacitated Vehicle Routing Problem"